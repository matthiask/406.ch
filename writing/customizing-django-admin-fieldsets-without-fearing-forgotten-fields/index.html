<!doctypehtml><html lang=en><meta charset=utf-8><meta content=width=device-width,initial-scale=1.0 name=viewport><title>Customizing Django admin fieldsets without fearing forgotten fields - Matthias Kestenholz</title><link href=/styles.7a4c5338b9f2.css rel=stylesheet><link title="Blog feed"href=/writing/atom.xml rel=alternate type=application/atom+xml><body><header><div class=wrappy><a class=title href=/>Hi, I'm Matthias</a><p class=subtitle>I am a founding partner of <a href=https://feinheit.ch>Feinheit AG</a> and <a href=https://diebruchpiloten.com>Die Bruchpiloten AG</a>. Find me on <a href=https://github.com/matthiask/>GitHub</a>, <a href=https://hachyderm.io/@matthiask rel=me>Mastodon</a>, <a href=https://bsky.app/profile/matthiask.406.ch rel=me>Bluesky</a>, <a rel="noopener noreferrer"title="if you must"href=https://www.linkedin.com/in/matthiaskestenholz target=_blank>LinkedIn</a> or by <a href=mailto:mk@406.ch>email</a>.<nav><a href=/writing/category-climate/>Climate</a><a href=/writing/category-django/>Django</a><a href=/writing/category-feincms/>feincms</a><a href=/writing/category-feincms3/>feincms3</a><a href=/writing/category-politik/>Politik</a><a href=/writing/category-programming/>Programming</a><a href=/writing/category-python/>Python</a><a href=/writing/category-til/>TIL</a><a href=/writing/category-weeknotes/>Weeknotes</a></nav></div></header><main><div class=wrappy><div class=text><small>2025-04-14 </small><h1 id=customizing-django-admin-fieldsets-without-fearing-forgotten-fields><a class=toclink href=#customizing-django-admin-fieldsets-without-fearing-forgotten-fields>Customizing Django admin fieldsets without fearing forgotten fields</a></h1><p>When defining <a href=https://docs.djangoproject.com/en/5.2/ref/contrib/admin/#django.contrib.admin.ModelAdmin.fieldsets>fieldsets on Django modeladmin classes</a> I always worry that I forget updating the fieldsets later when adding or removing new model fields, and not without reason: It has already happened to me several times. Forgetting to remove fields is mostly fine because system checks will complain about it, forgetting to add fields may be real bad. A recent example was a crashing website because a required field was missing from the admin and therefore was left empty when creating new instances!<p>I have now published another Django package which solves this by adding support for specifying the special <code>"__remaining__"</code> field in a fieldsets definition. The <code>"__remaining__"</code> placeholder is automatically replaced by all model fields which haven’t been explicitly added already or added to <code>exclude</code><sup id=fnref:1><a class=footnote-ref href=#fn:1>1</a></sup>.<p>Here’s a short example for a modeladmin definition using django-auto-admin-fieldsets:<div class=chl><pre><span></span><code><span class=kn>from</span> <span class=nn>django.contrib</span> <span class=kn>import</span> <span class=n>admin</span>
<span class=kn>from</span> <span class=nn>django_auto_admin_fieldsets.admin</span> <span class=kn>import</span> <span class=n>AutoFieldsetsModelAdmin</span>
<span class=kn>from</span> <span class=nn>app</span> <span class=kn>import</span> <span class=n>models</span>

<span class=nd>@admin</span><span class=o>.</span><span class=n>register</span><span class=p>(</span><span class=n>models</span><span class=o>.</span><span class=n>MyModel</span><span class=p>)</span>
<span class=k>class</span> <span class=nc>MyModelAdmin</span><span class=p>(</span><span class=n>AutoFieldsetsModelAdmin</span><span class=p>):</span>
    <span class=c1># Define fieldsets as usual with a placeholder</span>
    <span class=n>fieldsets</span> <span class=o>=</span> <span class=p>[</span>
        <span class=p>(</span><span class=s2>"Basic Information"</span><span class=p>,</span> <span class=p>{</span><span class=s2>"fields"</span><span class=p>:</span> <span class=p>[</span><span class=s2>"title"</span><span class=p>,</span> <span class=s2>"slug"</span><span class=p>]}),</span>
        <span class=p>(</span><span class=s2>"Content"</span><span class=p>,</span> <span class=p>{</span><span class=s2>"fields"</span><span class=p>:</span> <span class=p>[</span><span class=s2>"__remaining__"</span><span class=p>]}),</span>
    <span class=p>]</span>
</code></pre></div><p>I have used Claude Code a lot for the code and the package, and as always, I had to fix bugs and oversights. I hope it didn’t regurgitate the code of an existing package – I searched for an existing solution first but didn’t find any.<p>The package is available on <a href=https://pypi.org/project/django-auto-admin-fieldsets/>PyPI</a> and is developed on <a href=https://github.com/matthiask/django-auto-admin-fieldsets>GitHub</a>, at least for the time being.<div class=footnote><hr><ol><li id=fn:1><p>Autocreated fields such as surrogate primary keys or fields which aren’t editable are also excluded automatically of course. <a title="Jump back to footnote 1 in the text"class=footnote-backref href=#fnref:1>↩</a></p></ol></div></div><div class="text prevnext"><a href=/writing/weeknotes-2025-week-21/>Previous post</a><a href=/writing/weeknotes-2025-week-15/>Next post</a></div></div></main><footer><div class=wrappy><p><small> I like feedback! <a href="mailto:mk@406.ch?subject=Customizing Django admin fieldsets without fearing forgotten fields">Send me an email.</a> <br> <a rel="noopener noreferrer"href=https://ko-fi.com/matthiask target=_blank>☕ Buy me a coffee?</a> <br> Published on 2025-04-14 in <a href=/writing/category-django/>Django</a>, <a href=/writing/category-programming/>Programming</a> </small></p><script async crossorigin issue-term=pathname repo=matthiask/406-comments src=https://utteranc.es/client.js theme=github-dark></script></div></footer>