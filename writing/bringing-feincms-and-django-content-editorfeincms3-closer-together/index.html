<!doctypehtml><html lang=en><meta charset=utf-8><meta content=width=device-width,initial-scale=1.0 name=viewport><title>Bringing FeinCMS and django-content-editor/feincms3 closer together - Matthias Kestenholz</title><link href=/styles.e1e3d0e38f27.css rel=stylesheet><link title="Blog feed"href=/writing/atom.xml rel=alternate type=application/atom+xml><body><header><div class=wrappy><a class=back href=/>Back to the overview</a></div></header><main><div class=wrappy><div class=text><h1>Bringing FeinCMS and django-content-editor/feincms3 closer together</h1><p>If I had more time those are the features I would try to implement next:<h2>Reimplement FeinCMS’s TreeEditor using django-mptt’s <a href=https://django-mptt.github.io/django-mptt/admin.html#mptt-admin-draggablempttadmin>DraggableMPTTAdmin</a></h2><p>This shouldn’t be a big effort. The toggleable booleans are probably the only feature from the <code>TreeEditor</code> that haven’t made it into django-mptt.<h2>Add features to django-content-editor</h2><h3>Moving content blocks as a group</h3><p>It would be awesome if it was possible to collapse the content blocks’ fieldsets, mark consecutive blocks and move them as a group.<h3>Adding content blocks in the middle and improving reordering</h3><p>Right now it’s only possible to add new content blocks at the end; only after saving is it allowed to move new blocks in-between pre-existing content. This is a limitation of django’s <code>InlineFormset</code> respectively of django-content-editor’s naive reuse which expects new inline instances to always be ordered after existing forms.<p>I suspect that by using flexbox’s <code>order</code> attribute and some custom JavaScript code it should be possible to keep the ordering of inlines stable in the HTML code. If that was true the backend code wouldn’t have to be changed, which would also keep maintenance lower for the future.<p>The <code>ItemEditor</code> from FeinCMS supports adding content in the middle, but if users dynamically add and remove other content blocks (which makes Django’s <code>inlines.js</code> renumber all formsets) a crash when saving is almost a certainty.<h2>Reimplement FeinCMS’s ItemEditor using <a href=https://django-content-editor.readthedocs.io/>django-content-editor</a></h2><p>This shouldn’t be too hard either. Right now the content editor’s JavaScript code assumes too much about the <code>related_name</code> field of plugins’ <code>parent</code> foreign key, but apart from this the content editor’s code should work right away.<p>In FeinCMS-land, the <code>ItemEditorInline</code> should extend the <code>ContentEditorInline</code>. The biggest pain point with the <code>ItemEditorInline</code> is that it supports adding additional fields to individual instances’ forms (the <code>admin_fields</code> <a href=https://feincms-django-cms.readthedocs.io/en/latest/integration.html#additional-customization-possibilities>feature</a> of <code>ApplicationContent</code> requires this).<h2>There should be a good way to undo changes</h2><p>Enough said.</div></div></main><footer><div class=wrappy><p><small> I like feedback! <a href="mailto:mk@406.ch?subject=Bringing FeinCMS and django-content-editor/feincms3 closer together">Send me an email.</a> <br> <a rel="noopener noreferrer"href=https://ko-fi.com/matthiask target=_blank>☕ Buy me a coffee?</a> <br> Published on 2018-09-23 in <a href=/writing/category-django/>Django</a>, <a href=/writing/category-feincms/>feincms</a>, <a href=/writing/category-programming/>Programming</a> </small></p><script async crossorigin issue-term=pathname repo=matthiask/406-comments src=https://utteranc.es/client.js theme=github-dark></script></div></footer>