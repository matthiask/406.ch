<!doctype html><html lang=en><meta charset=utf-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>Weeknotes (2021 week 10) - Matthias Kestenholz</title><link href=/styles.7a4c5338b9f2.css rel=stylesheet><link title="Blog feed" href=/writing/atom.xml rel=alternate type=application/atom+xml><body><header><div class=wrappy><a class=title href=/>Hi, I'm Matthias</a><p class=subtitle>I am a founding partner of <a href=https://feinheit.ch>Feinheit AG</a> and <a href=https://diebruchpiloten.com>Die Bruchpiloten AG</a>. Find me on <a href=https://github.com/matthiask/>GitHub</a>, <a href=https://hachyderm.io/@matthiask rel=me>Mastodon</a>, <a href=https://bsky.app/profile/matthiask.406.ch rel=me>Bluesky</a>, <a rel="noopener noreferrer" title="if you must" href=https://www.linkedin.com/in/matthiaskestenholz target=_blank>LinkedIn</a> or by <a href=mailto:mk@406.ch>email</a>.<nav><a href=/writing/category-climate/>Climate</a><a href=/writing/category-django/>Django</a><a href=/writing/category-feincms/>feincms</a><a href=/writing/category-feincms3/>feincms3</a><a href=/writing/category-politik/>Politik</a><a href=/writing/category-programming/>Programming</a><a href=/writing/category-python/>Python</a><a href=/writing/category-til/>TIL</a><a href=/writing/category-weeknotes/>Weeknotes</a></nav></div></header><main><div class=wrappy><div class=text><small>2021-03-14 </small><h1 id=weeknotes-2021-week-10><a class=toclink href=#weeknotes-2021-week-10>Weeknotes (2021 week 10)</a></h1><p>I‚Äôm trying out the weeknotes format to hopefully write a bit more üòÑ.<h2 id=feincms3-page-types-and-moving-torwards-a-10-release><a class=toclink href=#feincms3-page-types-and-moving-torwards-a-10-release>feincms3: Page types and moving torwards a 1.0 release</a></h2><p>The <a href=https://github.com/matthiask/feincms3/blob/main/CHANGELOG.rst>current beta release of feincms3 (0.90b*)</a> introduces support for <strong>page types</strong>. This new concept unifies templates and apps. Since feincms3 apps can basically do what they want it didn‚Äôt make much sense to force managers to choose a template when they already selected an app. Sometimes, we offered managers a ‚Äúprojects‚Äù template and a ‚Äúprojects‚Äù app and they had to select both. This duplication was hard to explain and justify.<p>This isn‚Äôt the only backwards-incompatible change in 0.90b*. The default image plugins now always have a caption and an alternative text field; the versatileimagefield-based plugin is gone as are the shims in <code>feincms3.apps</code>.<p>The idea is to release a 1.0 of feincms3 soon-ish. It‚Äôs time to do this. feincms3 is in its fifth year of existence, several sites built with it have already been archived already, so it‚Äôs definitely past due. (django-content-editor (resp. FeinCMS 1.x) more than 12 years old now.)<h2 id=django-mptt-is-not-maintained-anymore><a class=toclink href=#django-mptt-is-not-maintained-anymore>django-mptt is not maintained anymore</a></h2><p>We, the maintainers of django-mptt <a href=https://github.com/django-mptt/django-mptt/pull/776>have marked django-mptt as unmaintained</a>. I have released the current development version as 0.12.0 before proposing this.<h2 id=postgresqls-ltree-extension-vs-django-tree-queries-recursive-ctes><a class=toclink href=#postgresqls-ltree-extension-vs-django-tree-queries-recursive-ctes>PostgreSQL‚Äôs ltree extension vs. django-tree-queries‚Äô recursive CTEs</a></h2><p>I got the (excellent) question why I wrote that PostgreSQL‚Äôs ltree extension didn‚Äôt seem a good solution <a href=https://406.ch/writing/django-tree-queries/>in my post about django-tree-queries</a>. <a href=https://github.com/matthiask/406-comments/issues/2#issuecomment-797981910>Here‚Äôs my current thinking on this.</a><h2 id=going-all-in-on-css-grid-and-postcss><a class=toclink href=#going-all-in-on-css-grid-and-postcss>Going all-in on CSS Grid and PostCSS</a></h2><p>I have been using <a href=https://github.com/postcss/autoprefixer>autoprefixer</a> for years already. It‚Äôs probably the best-known <a href=https://postcss.org/>PostCSS</a> plugin. It automatically adds vendor-specific prefixes to your CSS code (e.g. <code>-moz-*</code>, <code>-webkit-*</code>, <code>-ms-*</code> etc.) depending on a list of browsers you want to support and the <a href=https://caniuse.com/>Can I use‚Ä¶</a> database.<p>I wanted to bring bundling times down and searched for alternatives to Webpack. Webpack isn‚Äôt the hot new thing anymore but it works really well and performs good enough as long as you do not have extreme amounts of code and plugins. I started with a new, minimal Webpack configuration and was pleasantly surprised that compilation times are more than acceptable when only using babel-loader to transpile JavaScript and some PostCSS. (I may write about the setup at a later time, for now <a href=https://406.ch/writing/our-approach-to-configuring-django-webpack-and-manifeststaticfilesstorage/>this approach</a> still serves <a href=https://feinheit.ch/>us</a> well and we have even packaged it up as <a href=https://github.com/feinheit/fh-webpack-config/>fh-webpack-config</a>.)<h2 id=changing-the-main-branch-to-main><a class=toclink href=#changing-the-main-branch-to-main>Changing the main branch to main</a></h2><p>I added the <a href=https://github.com/matthiask/dotfiles/commit/3a2e3ff58de38aa8e03ca1d684504ebea02cdd6c>following alias to my <code>.gitconfig</code></a> to fix the problem where the <code>refs/remotes/origin/HEAD</code> of local repositories would point to <code>master</code> instead of <code>main</code> after renaming the branch on GitHub:<div class=chl><pre><span></span><code>git config --global alias.mainfix "symbolic-ref refs/remotes/origin/HEAD refs/remotes/origin/main"
</code></pre></div><p><code>git mainfix</code> is easier to type than <code>vim .git/refs/remotes/origin/HEAD</code> and replacing whatever the previous main branch was called with <code>main</code>.<h2 id=neovim><a class=toclink href=#neovim>neovim</a></h2><p>I have switched from vim to neovim. I don‚Äôt exactly remember why but the transition has been seamless. I‚Äôm still happy with tmux and vim.</div><div class="text prevnext"><a href=/writing/weeknotes-2021-week-11/>Previous post</a><a href=/writing/gettext-jsx-and-es6-template-literals/>Next post</a></div></div></main><footer><div class=wrappy><p><small> I like feedback! <a href="mailto:mk@406.ch?subject=Weeknotes (2021 week 10)">Send me an email.</a> <br> <a rel="noopener noreferrer" href=https://ko-fi.com/matthiask target=_blank>‚òï Buy me a coffee?</a> <br> Published on 2021-03-14 in <a href=/writing/category-django/>Django</a>, <a href=/writing/category-programming/>Programming</a>, <a href=/writing/category-weeknotes/>Weeknotes</a>, <a href=/writing/category-feincms/>feincms</a> </small></p><script async crossorigin issue-term=pathname repo=matthiask/406-comments src=https://utteranc.es/client.js theme=github-dark></script></div></footer>